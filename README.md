# Apache-logger
## Установка: 
  - git clone https://github.com/Prishtina17/apache_logger.git
  - pip install requirements.txt
## субд:
  - postgres
## веб приложение: 
  - python api.py
  - get 127.0.0.1:5000/logs
  ### Аргументы к запросу:
    - ip (например, 192.168.2.20 и 127.0.0.1).
    - start_date (ГГГГ-ММ-ДД)
    - end_date (ГГГГ-ММ-ДД)

## консольное приложение:
  - python main.py
  - команда export читает логи из файлов, которые предварительно должны быть указаны в config.py
  - команда select filter1 filter2 ... читает логи из дб (где фильтр, это столбец в бд, так же в конце можно указать временной интервал вида: ГГГГ-ММ-ДД ГГГГ-ММ-ДД)
## Пример работы консольного приложения
  - select server_ip date_time
  - select weight 2002-01-01 2008-01-01
  - 
## Автоматизация
data_sender.py автоматически собирает логи согласно установленному приежутку, его можно поменять- 'schedule.every(5).seconds.do(main)'


## Возможные модификаторы(config.py)
- %h - IP-адрес клиента (например, 192.168.2.20 и 127.0.0.1).
- %t - Время запроса в формате [день/месяц/год:час:минута:секунда часовой_пояс]
- %r - Первая строка запроса
- %>s - Статус ответа сервера
- %b - Размер ответа в байтах
